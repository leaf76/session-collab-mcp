{
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"continue\": true, \"systemMessage\": \"Session Collaboration Plugin Active. REQUIRED: Call mcp__session-collab__collab_session_start with project_root and session name IMMEDIATELY. This will auto-load context from previous sessions.\"}'"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"decision\": \"allow\", \"systemMessage\": \"REQUIRED WORKFLOW: collab_check -> collab_claim -> Edit -> collab_release. Plan files (*.md with plan/design/spec in name) are auto-protected when claimed.\"}'"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"decision\": \"allow\", \"systemMessage\": \"WARNING: Before deleting files (rm, unlink, git clean), call collab_file_check_protected to verify no protected files (plans, session-created files) will be affected.\"}'"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write|mcp__filesystem__write_file|mcp__filesystem__edit_file",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"systemMessage\": \"Edit completed. Call collab_auto_release to release claim. For important findings/decisions, use collab_memory_save to persist context.\"}'"
          }
        ]
      },
      {
        "matcher": "Write|mcp__filesystem__write_file",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"systemMessage\": \"File created. Plan files are auto-protected via claims. For other important files, call collab_file_register. For plans, collab_plan_register provides lifecycle management.\"}'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"systemMessage\": \"Session ending. BEFORE calling collab_session_end: 1) Call collab_claims_list to review unreleased claims 2) Save important context with collab_memory_save (pinned=true) 3) Then call collab_session_end with appropriate release_claims status (complete/abandon)\"}'"
          }
        ]
      }
    ]
  }
}
